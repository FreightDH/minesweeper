(()=>{"use strict";let e=!0,t=(t=300)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}n.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},n=(t=300)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};const o=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},c=(document.querySelectorAll(".popup-link"),document.querySelector(".popup__close")),l=document.querySelector(".popup__image"),s=document.querySelector(".popup__title"),i=document.querySelector(".popup__subtitle"),d=document.querySelector(".popup__text"),r=document.querySelectorAll(".popup__list--item");function u(t){t.length>0&&t.forEach((t=>{t.addEventListener("click",(function(o){const c=document.querySelector(".popup");!async function(e,t){const n="files/pets.json",o=await fetch(n),c=await o.json(),u=c.length;let a;for(a=0;a<u&&c[a].name!==t;a++);l.innerHTML=`<img src="${c[a].img}" alt="pet">`,s.textContent=c[a].name,i.textContent=c[a].type+" - "+c[a].breed,d.textContent=c[a].description,r[0].lastChild.textContent=c[a].age,r[1].lastChild.textContent=c[a].inoculations.join(", "),r[2].lastChild.textContent=c[a].diseases.join(", "),r[3].lastChild.textContent=c[a].parasites.join(", ")}(0,t.children[1].textContent),function(t){t&&e&&(n(),t.classList.add("popup-open"),t.addEventListener("click",(function(e){e.target.closest(".popup__content")||a(e.target.closest(".popup"))})))}(c),o.preventDefault()}))})),c&&c.addEventListener("click",(function(e){a(e.target.closest(".popup")),l.innerHTML="",s.textContent="",i.textContent="",d.textContent="",r[0].lastChild.textContent="",r[1].lastChild.textContent="",r[2].lastChild.textContent="",r[3].lastChild.textContent=""}))}function a(n){e&&(t(),n.classList.remove("popup-open"))}const m=[],p=[];let f;(()=>{let e=0;const t=[];for(let c=0;c<8;c++){e++;do{n=0,o=7,f=Math.floor(Math.random()*(o-n+1))+n}while(t.includes(f));t.push(f),e%3==0&&m.push(t.slice(e-3,e))}var n,o;m.push(t.slice(-2))})(),(()=>{for(let e=0;e<6;e++)m.forEach((e=>{p.push(...o(e))}))})();const h=document.querySelector(".arrow--l--double"),L=document.querySelector(".arrow--l--pets"),C=document.querySelector(".arrow--r--pets"),y=document.querySelector(".arrow--r--double"),b=document.querySelector(".pagination__current"),g=document.querySelectorAll(".pets__column");function x(){return document.documentElement.clientWidth>1269?6:document.documentElement.clientWidth>767?8:16}function v(){return document.documentElement.clientWidth>1269?8:document.documentElement.clientWidth>767?6:3}async function _(e,t){const n=await fetch("files/pets.json"),o=await n.json();e.children[0].children[0].children[0].setAttribute("src",o[t].img);e.children[0].children[1].textContent=o[t].name,u(document.querySelectorAll(".popup-link"))}function S(){const e=v();for(let t=0;t<e;t++)_(g[t],p[t]);b.textContent=1,C.classList.remove("disabled"),y.classList.remove("disabled"),L.classList.add("disabled"),h.classList.add("disabled")}function q(){const e=v();b.textContent=x(),C.classList.add("disabled"),y.classList.add("disabled"),L.classList.remove("disabled"),h.classList.remove("disabled");for(let t=40,n=0;n<e;t++,n++)_(g[n],p[t])}h.addEventListener("click",S),L.addEventListener("click",(function(){const e=x(),t=v();b.textContent==e&&(C.classList.remove("disabled"),y.classList.remove("disabled")),b.textContent>1&&(b.textContent-=1),1==b.textContent&&(L.classList.add("disabled"),h.classList.add("disabled"));for(let e=(b.textContent-1)*t,n=0;n<t;e++,n++)_(g[n],p[e])})),C.addEventListener("click",(function(){const e=x(),t=v();1==b.textContent&&(L.classList.remove("disabled"),h.classList.remove("disabled")),b.textContent<e&&(b.textContent=Number(b.textContent)+1),b.textContent==e&&(C.classList.add("disabled"),y.classList.add("disabled"));for(let e=(b.textContent-1)*t,n=0;n<t;e++,n++)_(g[n],p[e])})),y.addEventListener("click",q),window.addEventListener("resize",(function(e){const t=x();b.textContent>t?q():b.textContent<t?(C.classList.remove("disabled"),y.classList.remove("disabled")):1==b.textContent&&S()})),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".menu__icon")&&document.addEventListener("click",(function(o){e&&o.target.closest(".menu__icon")&&(((e=300)=>{document.documentElement.classList.contains("lock")?t(e):n(e)})(),document.documentElement.classList.toggle("menu-open"),document.querySelector(".menu__body").classList.toggle("menu-open"),document.querySelector(".blackout").classList.toggle("active")),e&&o.target.closest(".menu__link")&&(t(),document.documentElement.classList.remove("menu-open"),document.querySelector(".menu__body").classList.remove("menu-open"),document.querySelector(".blackout").classList.remove("active")),e&&!o.target.closest(".menu__body")&&(t(),document.documentElement.classList.remove("menu-open"),document.querySelector(".menu__body").classList.remove("menu-open"),document.querySelector(".blackout").classList.remove("active"))})),function(){const e=v();for(let t=0;t<e;t++)_(g[t],p[t])}()})();