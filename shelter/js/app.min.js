(()=>{"use strict";let e=!0,t=(t=300)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}n.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},n=(t=300)=>{let n=document.querySelector("body");if(e){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}n.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};const o=document.querySelector(".arrow--l"),c=document.querySelector(".arrow--r"),l=document.querySelector(".slider__wrapper");let i,s=document.querySelector(".column-left"),r=document.querySelector(".column-right"),u=[],d=[];const a=(e,t)=>Math.floor(Math.random()*(t-e))+e;function m(e){let t;do{t=a(1,8)}while(u.includes(`${i[t].name}`)||d.includes(`${i[t].name}`));const n=document.createElement("div");return n.classList.add("pets__column"),n.classList.add("column--"+ ++e),n.innerHTML=`\n\t\t\t\t\t\t<div class="pets__card card popup-link">\n\t\t\t\t\t\t\t<div class="card__image"><img src="${i[t].img}" alt="pet"></div>\n\t\t\t\t\t\t\t<div class="card__name">${i[t].name}</div>\n\t\t\t\t\t\t\t<a href="#" class="card__button btn btn--w"><span>Learn more</span></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,u.push(i[t].name),n}(async()=>{const e=await fetch("files/pets.json");i=await e.json()})();const p=()=>{d=[];for(let e of s.children){let t=e.children[0];d.push(t.children[1].textContent)}l.classList.add("move-left"),o.removeEventListener("click",p),c.removeEventListener("click",v)},v=()=>{d=[];for(let e of r.children){let t=e.children[0];d.push(t.children[1].textContent)}l.classList.add("move-right"),o.removeEventListener("click",p),c.removeEventListener("click",v)};function f(e){e.innerHTML="",u=[];for(let t=0;t<3;t++){const n=m(t);e.append(n)}return e}o.addEventListener("click",p),c.addEventListener("click",v),l.addEventListener("animationend",(e=>{"move-left"===e.animationName?(l.classList.remove("move-left"),document.querySelector(".column-active").innerHTML=s.innerHTML):(l.classList.remove("move-right"),document.querySelector(".column-active").innerHTML=r.innerHTML),s=f(s),r=f(r),o.addEventListener("click",p),c.addEventListener("click",v)}));const y=document.querySelectorAll(".popup-link"),L=document.querySelector(".popup__close"),g=document.querySelector(".popup__image"),_=document.querySelector(".popup__title"),h=document.querySelector(".popup__subtitle"),S=document.querySelector(".popup__text"),q=document.querySelectorAll(".popup__list--item");function k(n){e&&(t(),n.classList.remove("popup-open"))}y.length>0&&y.forEach((t=>{t.addEventListener("click",(function(o){const c=document.querySelector(".popup");!async function(e,t){const n="files/pets.json",o=await fetch(n),c=await o.json(),l=c.length;let i;for(i=0;i<l&&c[i].name!==t;i++);g.firstChild.setAttribute("src",c[i].img),_.textContent=c[i].name,h.textContent=c[i].type+" - "+c[i].breed,S.textContent=c[i].description,q[0].lastChild.textContent=c[i].age,q[1].lastChild.textContent=c[i].inoculations.join(", "),q[2].lastChild.textContent=c[i].diseases.join(", "),q[3].lastChild.textContent=c[i].parasites.join(", ")}(0,t.children[1].textContent),function(t){t&&e&&(n(),t.classList.add("popup-open"),t.addEventListener("click",(function(e){e.target.closest(".popup__content")||k(e.target.closest(".popup"))})))}(c),o.preventDefault()}))})),L&&L.addEventListener("click",(function(e){k(e.target.closest(".popup"))})),function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.querySelector(".menu__icon")&&document.addEventListener("click",(function(o){e&&o.target.closest(".menu__icon")&&(((e=300)=>{document.documentElement.classList.contains("lock")?t(e):n(e)})(),document.documentElement.classList.toggle("menu-open"),document.querySelector(".menu__body").classList.toggle("menu-open"),document.querySelector(".blackout").classList.toggle("active")),e&&o.target.closest(".menu__link")&&(t(),document.documentElement.classList.remove("menu-open"),document.querySelector(".menu__body").classList.remove("menu-open"),document.querySelector(".blackout").classList.remove("active")),e&&!o.target.closest(".menu__body")&&(t(),document.documentElement.classList.remove("menu-open"),document.querySelector(".menu__body").classList.remove("menu-open"),document.querySelector(".blackout").classList.remove("active"))}))})();